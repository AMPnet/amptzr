<div class="px-4 py-2 max-w-screen-lg mx-auto">
  <app-select-network></app-select-network>

  <div *ngIf="issuers$ | async as issuersRes">
    <div>
      Select issuer:
    </div>

    <ng-container *ngIf="issuersRes.value as issuers">
      <div class="flex flex-wrap items-stretch gap-1 mt-2" *ngIf="issuers.length > 0">
        <ng-container *ngFor="let issuer of issuers">
          <a [routerLink]="" (click)="openIssuer(issuer)">
            <div class="flex flex-col p-2 w-48 h-full bg-indigo-400 rounded-lg">
              <div>
                <span>{{ issuer.name ?? 'Unknown' }}</span>
              </div>
              <div class="h-32 p-2">
                <img class="w-full h-full object-contain" *ngIf="issuer.logo"
                     src="{{ issuer.logo | toUrlIPFS }}" alt="Issuer logo">
              </div>
            </div>
          </a>
        </ng-container>
      </div>
      <div *ngIf="issuers.length === 0">
        No issuers
      </div>
    </ng-container>

    <ng-container *ngIf="issuersRes.error">
      Cannot fetch issuers.
      <div hidden>{{ issuersRes.error | json }}</div>
    </ng-container>

    <ng-container *ngIf="issuersRes.loading">
      <app-spinner type="overlay">Loading issuers...</app-spinner>
    </ng-container>
  </div>
</div>
