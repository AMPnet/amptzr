<div class="w-full h-full flex justify-center mt-8 px-2 pb-8">
  <div class="bg-red w-full max-w-6xl">
    <ng-container *ngIf="(issuer$ | async) as issuer">
      <div class="flex flex-col lg:flex-row lg:flex-wrap gap-6 mt-8">
        <div class="flex flex-col lg:flex-row w-full justify-start shadow-xl rounded-4xl">
          <div class="relative w-full lg:w-1/3">
            <img *ngIf="issuer.logo; else noImage" class="w-full h-48 lg:h-60 object-cover rounded-t-4xl
                        lg:rounded-none lg:rounded-l-4xl"
                 src="{{ issuer.logo | toUrlIPFS }}" alt="Issuer logo">
            <ng-template #noImage>
              <div class="w-full h-48 lg:h-60 bg-gray-200 rounded-t-4xl lg:rounded-none lg:rounded-l-4xl"></div>
            </ng-template>
          </div>
          <div class="flex flex-col gap-8 w-full h-full rounded-b-4xl lg:rounded-none lg:rounded-r-4xl
                      bg-white p-4 justify-between">
            <div class="font-semibold">
              <span class="text-4xl font-normal mb-8 lg:mt-8">{{ issuer.name ?? 'Unknown' }}</span>
              <div class="flex items-center gap-2 mt-2">
                <span>ADDRESS:</span>
                <span class="text-sm font-normal">{{ issuer.contractAddress | addrShort }}</span>
                <app-value-copy [value]="issuer.contractAddress"></app-value-copy>
              </div>
              <div class="flex items-center gap-2">
                <span>STABLECOIN:</span>
                <span class="text-sm font-normal">{{ stableCoinSymbol }}</span>
                <span class="text-sm font-normal">{{ issuer.stablecoin | addrShort }}</span>
                <app-value-copy [value]="issuer.stablecoin"></app-value-copy>
              </div>
              <div class="flex items-center gap-2">
                <span>WALLET APPROVER:</span>
                <span class="text-sm font-normal">{{ issuer.walletApprover | addrShort }}</span>
                <app-value-copy [value]="issuer.walletApprover"></app-value-copy>
              </div>
            </div>
            <div class="flex flex-col justify-end">
              <div class="flex flex-col lg:flex-row justify-center lg:justify-end gap-2">
                <div class="flex justify-center">
                  <button app-action-button
                          class="flex items-center gap-2 px-6 py-2 rounded-full bg-indigo-800
                          text-white text-lg disabled:bg-gray-400"
                          text="Download investors report"
                          [onClick]="downloadAdminInvestorsReport.bind(this)">
                    <ng-template #content>
                      <svg class="h-4 w-4" width="22" height="18" viewBox="0 0 22 18" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.47461 13V14C1.47461 14.7956 1.85599 15.5587 2.53485 16.1213C3.21371 16.6839 4.13444
                                 17 5.0945 17H17.1608C18.1209 17 19.0416 16.6839 19.7204 16.1213C20.3993 15.5587 20.7807
                                 14.7956 20.7807 14V13M15.9542 9L11.1276 13M11.1276 13L6.30113 9M11.1276 13V1"
                              stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <span>Download investors report</span>
                    </ng-template>
                  </button>
                </div>

                <div class="flex justify-center">
                  <button class="flex items-center gap-2 px-24 py-2 rounded-full bg-indigo-800 text-white text-lg"
                          routerLink="edit">
                    <span>Edit issuer</span>
                    <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1.16602L6.83333 6.99935L1 12.8327" stroke="white" stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <div class="flex flex-col lg:flex-row justify-center items-center gap-4 my-8">
      <app-add-button text="NEW ASSET" [routerLink]="'/admin/assets/new' | issuerPath"></app-add-button>
      <app-add-button text="NEW TRANSFERABLE ASSET" [routerLink]="'/admin/ft_assets/new' | issuerPath"></app-add-button>
    </div>

    <app-admin-asset-list title="Assets" [assets$]="assets$" assetType="asset"></app-admin-asset-list>
    <app-admin-asset-list title="Transferable assets" [assets$]="ftAssets$" assetType="ft-asset"></app-admin-asset-list>
  </div>
</div>
